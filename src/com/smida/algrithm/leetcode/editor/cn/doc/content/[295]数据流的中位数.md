<p>ä¸­ä½æ•°æ˜¯æœ‰åºåˆ—è¡¨ä¸­é—´çš„æ•°ã€‚å¦‚æœåˆ—è¡¨é•¿åº¦æ˜¯å¶æ•°ï¼Œä¸­ä½æ•°åˆ™æ˜¯ä¸­é—´ä¸¤ä¸ªæ•°çš„å¹³å‡å€¼ã€‚</p>

<p>ä¾‹å¦‚ï¼Œ</p>

<p>[2,3,4]&nbsp;çš„ä¸­ä½æ•°æ˜¯ 3</p>

<p>[2,3] çš„ä¸­ä½æ•°æ˜¯ (2 + 3) / 2 = 2.5</p>

<p>è®¾è®¡ä¸€ä¸ªæ”¯æŒä»¥ä¸‹ä¸¤ç§æ“ä½œçš„æ•°æ®ç»“æ„ï¼š</p>

<ul> 
 <li>void addNum(int num) - ä»æ•°æ®æµä¸­æ·»åŠ ä¸€ä¸ªæ•´æ•°åˆ°æ•°æ®ç»“æ„ä¸­ã€‚</li> 
 <li>double findMedian() - è¿”å›ç›®å‰æ‰€æœ‰å…ƒç´ çš„ä¸­ä½æ•°ã€‚</li> 
</ul>

<p><strong>ç¤ºä¾‹ï¼š</strong></p>

<pre>addNum(1)
addNum(2)
findMedian() -&gt; 1.5
addNum(3) 
findMedian() -&gt; 2</pre>

<p><strong>è¿›é˜¶:</strong></p>

<ol> 
 <li>å¦‚æœæ•°æ®æµä¸­æ‰€æœ‰æ•´æ•°éƒ½åœ¨ 0 åˆ° 100 èŒƒå›´å†…ï¼Œä½ å°†å¦‚ä½•ä¼˜åŒ–ä½ çš„ç®—æ³•ï¼Ÿ</li> 
 <li>å¦‚æœæ•°æ®æµä¸­ 99% çš„æ•´æ•°éƒ½åœ¨ 0 åˆ° 100 èŒƒå›´å†…ï¼Œä½ å°†å¦‚ä½•ä¼˜åŒ–ä½ çš„ç®—æ³•ï¼Ÿ</li> 
</ol>

<details><summary><strong>Related Topics</strong></summary>è®¾è®¡ | åŒæŒ‡é’ˆ | æ•°æ®æµ | æ’åº | å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰</details><br>

<div>ğŸ‘ 782, ğŸ‘ 0<span style='float: right;'><span style='color: gray;'><a href='https://github.com/labuladong/fucking-algorithm/discussions/939' target='_blank' style='color: lightgray;text-decoration: underline;'>bug åé¦ˆ</a> | <a href='https://mp.weixin.qq.com/s/NF8mmVyXVfC1ehdMOsO7Cw' target='_blank' style='color: lightgray;text-decoration: underline;'>ä½¿ç”¨æŒ‡å—</a> | <a href='https://labuladong.github.io/algo/images/others/%E5%85%A8%E5%AE%B6%E6%A1%B6.jpg' target='_blank' style='color: lightgray;text-decoration: underline;'>æ›´å¤šé…å¥—æ’ä»¶</a></span></span></div>

<div id="labuladong"><hr>

**é€šçŸ¥ï¼š[æ•°æ®ç»“æ„ç²¾å“è¯¾](https://aep.h5.xeknow.com/s/1XJHEO) å·²æ›´æ–°åˆ° V2.0ã€‚**



<p><strong><a href="https://labuladong.github.io/article?qno=295" target="_blank">â­ï¸labuladong é¢˜è§£</a></strong></p>
<details><summary><strong>labuladong æ€è·¯</strong></summary>

## åŸºæœ¬æ€è·¯

æœ¬é¢˜çš„æ ¸å¿ƒæ€è·¯æ˜¯ä½¿ç”¨ä¸¤ä¸ªä¼˜å…ˆçº§é˜Ÿåˆ—ã€‚

![](https://labuladong.github.io/algo/images/ä¸­ä½æ•°/1.jpeg)


å°çš„å€’ä¸‰è§’å°±æ˜¯ä¸ªå¤§é¡¶å †ï¼Œæ¢¯å½¢å°±æ˜¯ä¸ªå°é¡¶å †ï¼Œä¸­ä½æ•°å¯ä»¥é€šè¿‡å®ƒä»¬çš„å †é¡¶å…ƒç´ ç®—å‡ºæ¥ï¼š

![](https://labuladong.github.io/algo/images/ä¸­ä½æ•°/2.jpeg)

**è¯¦ç»†é¢˜è§£ï¼š[ä¸€é“æ±‚ä¸­ä½æ•°çš„ç®—æ³•é¢˜æŠŠæˆ‘æ•´ä¸ä¼šäº†](https://labuladong.github.io/article/fname.html?fname=æ•°æ®æµä¸­ä½æ•°)**

**æ ‡ç­¾ï¼šäºŒå‰å †ï¼Œ[æ•°å­¦](https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzAxODQxMDM0Mw==&action=getalbum&album_id=2122023604245659649)**

## è§£æ³•ä»£ç 

```java
class MedianFinder {
    private PriorityQueue<Integer> large;
    private PriorityQueue<Integer> small;

    public MedianFinder() {
        // å°é¡¶å †
        large = new PriorityQueue<>();
        // å¤§é¡¶å †
        small = new PriorityQueue<>((a, b) -> {
            return b - a;
        });
    }

    public double findMedian() {/**<extend up -100>

![](https://labuladong.github.io/algo/images/ä¸­ä½æ•°/2.jpeg)
*/
        // å¦‚æœå…ƒç´ ä¸ä¸€æ ·å¤šï¼Œå¤šçš„é‚£ä¸ªå †çš„å †é¡¶å…ƒç´ å°±æ˜¯ä¸­ä½æ•°
        if (large.size() < small.size()) {
            return small.peek();
        } else if (large.size() > small.size()) {
            return large.peek();
        }
        // å¦‚æœå…ƒç´ ä¸€æ ·å¤šï¼Œä¸¤ä¸ªå †å †é¡¶å…ƒç´ çš„å¹³å‡æ•°æ˜¯ä¸­ä½æ•°
        return (large.peek() + small.peek()) / 2.0;/**<extend up -100>

![](https://labuladong.github.io/algo/images/ä¸­ä½æ•°/1.jpeg)
*/
    }

    public void addNum(int num) {
        if (small.size() >= large.size()) {
            small.offer(num);
            large.offer(small.poll());
        } else {
            large.offer(num);
            small.offer(large.poll());
        }
    }
}
```

**ç±»ä¼¼é¢˜ç›®**ï¼š
  - [å‰‘æŒ‡ Offer 41. æ•°æ®æµä¸­çš„ä¸­ä½æ•° ğŸ”´](/problems/shu-ju-liu-zhong-de-zhong-wei-shu-lcof/)

</details>
</div>



